// Модуль менеджера регистра сведений "Автомобили"

#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

// Удаляет запись регистра сведений по ключу. Может выбросить исключение.
// 
// Параметры:
//  Автомобиль - СправочникСсылка.Автомобили;
//  Период - Дата;
//  ВидЗначения - ПеречислениеСсылка.ДополнительнаяИнформацияАвтомобилей;
//  Значение - Произвольный.
//
Процедура УдалитьЗначениеРегистраСведения(Автомобиль, Период, ВидЗначения, Значение = Неопределено) Экспорт
	
	УстановитьПривилегированныйРежим(Истина);
	
	КлючЗаписи = РегистрыСведений.Автомобили.СоздатьМенеджерЗаписи();
	КлючЗаписи.Автомобиль = Автомобиль;
	КлючЗаписи.Период     = Период;
	
	Если Значение <> Неопределено Тогда
		
		КлючЗаписи.Значение = Значение;
		
	КонецЕсли;
	
	КлючЗаписи.ВидЗначения = ВидЗначения;
	КлючЗаписи.Прочитать();
	
	Если КлючЗаписи.Выбран() Тогда
		
		КлючЗаписи.Удалить();
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область ПараметрыОбработкиРеквизитовОбъекта

// Производит формирование параметров проверки заполнения реквизитов объекта на предмет обязательности.
//
// Параметры:
//  Объект - ДанныеФормыСтруктура - Объект, для которого выполняется получение параметров проверки.
//
// Возвращаемое значение:
//  Массив - Возвращаемый массив содержит строковые идентификаторы реквизитов.
//
Функция ПолучитьОбязательныеРеквизиты(Объект) Экспорт
	
	// Обязательные реквизиты регистра
	ОбязательныеРеквизиты = ОбработкаСобытийРегистраСервер.ПолучитьСтандартныеОбязательныеРеквизиты(Объект);
	
	// Возвращаем сформированные параметры проверки
	Возврат ОбязательныеРеквизиты;
	
КонецФункции // ПолучитьОбязательныеРеквизиты()

// Производит формирование параметров проверки заполнения реквизитов объекта на предмет обязательности и уникальности.
//
// Параметры:
//  Объект - ДанныеФормыСтруктура - Объект, для которого выполняется получение параметров проверки.
//
// Возвращаемое значение:
//  Структура - Возвращаемая структура содержит строковые идентификаторы реквизитов и вариант проверки его заполнения
//  (1-Обязательный, 2-Уникальный, 3-Уникальный и обязательный). Для описания проверки табличных частей используется
//  вложенная структура.
//
Функция ПолучитьУникальныеРеквизиты(Объект) Экспорт
	
	// Структура уникальных реквизитов
	УникальныеРеквизиты = Новый Структура();
	
	// Возвращаем сформированные параметры проверки
	Возврат УникальныеРеквизиты;
	
КонецФункции // ПолучитьОбязательныеРеквизиты()

#КонецОбласти

#КонецОбласти

#КонецЕсли