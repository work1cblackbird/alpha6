// Модуль набора записей регистра "Применяемость дополнительных предложений по моделям".

#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	
	Если НЕ ОбработкаСобытийРегистраСервер.ОбработкаПроверкиЗаполнения(ЭтотОбъект, Отказ, ПроверяемыеРеквизиты) Тогда
		
		Возврат;
		
	КонецЕсли;
	
КонецПроцедуры 

Процедура ПередЗаписью(Отказ)
	
	// заполним guid если он пустой
	Если ЭтотОбъект.Количество() > 1 Тогда
		
		Для Каждого Запись Из ЭтотОбъект Цикл
			
			Если НЕ ЗначениеЗаполнено(Запись.GUID) Тогда
				
				Запись.GUID = Новый УникальныйИдентификатор;
				Запись.Используется = Истина;
				
			КонецЕсли;
			
		КонецЦикла;
		
	ИначеЕсли ЭтотОбъект.Количество() = 1 Тогда
		
		Если НЕ ЗначениеЗаполнено(ЭтотОбъект[0].GUID) Тогда
			
			ЭтотОбъект[0].GUID         = Новый УникальныйИдентификатор;
			ЭтотОбъект[0].Используется = Истина;
			ЭтотОбъект.Отбор.GUID.Установить(ЭтотОбъект[0].GUID);
			
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли