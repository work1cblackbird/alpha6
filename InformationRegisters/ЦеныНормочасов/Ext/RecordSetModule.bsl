// Модуль набора записей регистра "Цены нормочасов"

#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка) Экспорт
	
	ВалютаРегламентированногоУчета = Константы.ВалютаРегламентированногоУчетаОрганизаций.Получить();
	ДанныеЗаполненияЕстьВалюта = Ложь;
	Если НЕ ДанныеЗаполнения = Неопределено Тогда
		ДанныеЗаполненияЕстьВалюта = ДанныеЗаполнения.Свойство("Валюта");		
	КонецЕсли;
	
	Для Каждого ЗаписьРегистраСведений Из ЭтотОбъект Цикл
		
		Если ДанныеЗаполненияЕстьВалюта Тогда
			
			ЗаписьРегистраСведений.Валюта = ДанныеЗаполнения.Валюта;
			
		КонецЕсли;
		
		Если НЕ ЗначениеЗаполнено(ЗаписьРегистраСведений.Валюта) Тогда
			
			ЗаписьРегистраСведений.Валюта = ВалютаРегламентированногоУчета;
			
		КонецЕсли;
		
	КонецЦикла;		
	
КонецПроцедуры 

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	
	Если НЕ ОбработкаСобытийРегистраСервер.ОбработкаПроверкиЗаполнения(ЭтотОбъект, Отказ, ПроверяемыеРеквизиты) Тогда
		
		Возврат;
		
	КонецЕсли;
	
КонецПроцедуры 

#КонецОбласти

#КонецЕсли