#Область ОбработчикиСобытийФормы
#КонецОбласти

#Область ОбработчикиКомандФормы
#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
// Процедура удаляет общую телефонную книгу на сервере
//
// Параметры:
//	Идентификатор	- УникальныйИдентификатор	- Идентификатор телефонной книги
//	Наименование	- Строка					- Наименование книги
//
Процедура УдалитьТелефоннуюКнигу(Идентификатор, Наименование)
	СтруктураКниги = Новый Структура;
	СтруктураКниги.Вставить("Идентификатор",	Идентификатор);
	СтруктураКниги.Вставить("ИмяКниги",			Наименование);
	сфпСофтФонПроКлиент.сфпУдалитьТелефоннуюКнигу(СтруктураКниги);
КонецПроцедуры // УдалитьТелефоннуюКнигу()
	
////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ ЭЛЕМЕНТОВ ФОРМЫ

&НаКлиенте
// Процедура - обработчик события "ПриИзменении" таблицы формы "Список"
//
Процедура СписокПриИзменении(Элемент)
	ТД = Элементы.Список.ТекущиеДанные;
	Если ТД = Неопределено Тогда
		Возврат;
	ИначеЕсли ТД.ПометкаУдаления Тогда
		УдалитьТелефоннуюКнигу(ТД.Идентификатор, ТД.Наименование);
	КонецЕсли;	
КонецПроцедуры // СписокПриИзменении()

#КонецОбласти