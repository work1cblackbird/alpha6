#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	ПараметрыФормы = ПолучитьПараметрыФормы(ПараметрКоманды);
	ОткрытьФорму("Отчет.ДоступностьРесурсовАвтосервиса.Форма", ПараметрыФормы, ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Функция ПолучитьПараметрыФормы(Табель)
	// Проверим табель ли это
	Если ТипЗнч(Табель) <> Тип("ДокументСсылка.Табель") Тогда
		Возврат Новый Структура();
	КонецЕсли; 
	
	ПараметрыФормы = Новый Структура();
	СтруктураРесурсов = Новый Структура();

	Ресурсы = Табель.Ресурсы;
	
	Индекс = 0;
	Для каждого Ресурс Из Ресурсы Цикл
		 СтруктураРесурсов.Вставить(Строка("_"+Индекс), Ресурс.Ресурс);
		 Индекс = Индекс + 1;
	 КонецЦикла; 
	ПараметрыФормы.Вставить("Ресурсы",СтруктураРесурсов); 
	
	Возврат ПараметрыФормы;	

КонецФункции // ПолучитьПараметрыФормы()

#КонецОбласти