<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>НаборДанных1</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ХарактеристикаНоменклатуры</dataPath>
			<field>ХарактеристикаНоменклатуры</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Характеристика</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодчиненныйДокумент</dataPath>
			<field>ПодчиненныйДокумент</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подчиненный документ</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<group>true</group>
			</attributeUseRestriction>
			<role>
				<dcscom:ignoreNullValues>true</dcscom:ignoreNullValues>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументОснование</dataPath>
			<field>ДокументОснование</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>По документу</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СкладКомпании</dataPath>
			<field>СкладКомпании</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Склад</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Номенклатура</dataPath>
			<field>Номенклатура</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номенклатура</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоОрдерныйПриход</dataPath>
			<field>КоличествоОрдерныйПриход</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ордерное</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоОрдерныйРасход</dataPath>
			<field>КоличествоОрдерныйРасход</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ордерное</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоСкладскойПриход</dataPath>
			<field>КоличествоСкладскойПриход</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Складское</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоСкладскойРасход</dataPath>
			<field>КоличествоСкладскойРасход</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Складское</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоРазницаРасход</dataPath>
			<field>КоличествоРазницаРасход</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Разница</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоРазницаПриход</dataPath>
			<field>КоличествоРазницаПриход</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Разница</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	ВЫБОР
		КОГДА Инвентаризация.ДокументОснование = ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяССылка)
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ ВЫРАЗИТЬ(Инвентаризация.ДокументОснование КАК Документ.ИнвентаризацияОрдерногоСклада)
	КОНЕЦ КАК ДокументОснование,
	Инвентаризация.Ссылка КАК ПодчиненныйДокумент
ПОМЕСТИТЬ ПодчиненныеДокументы
ИЗ
	Документ.Инвентаризация КАК Инвентаризация
ГДЕ
	Инвентаризация.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ВЫБОР
			КОГДА Инвентаризация.ДокументОснование ССЫЛКА Документ.ИнвентаризацияОрдерногоСклада
				ТОГДА ВЫРАЗИТЬ(Инвентаризация.ДокументОснование КАК Документ.ИнвентаризацияОрдерногоСклада)
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		КОНЕЦ).* КАК ДокументОснование,
	Инвентаризация.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА ПеремещениеТоваров.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				И НЕ (ВЫРАЗИТЬ(ПеремещениеТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)) = ЗНАЧЕНИЕ(Документ.ПриходныйСкладскойОрдер.ПустаяСсылка)
			ТОГДА ВЫРАЗИТЬ(ПеремещениеТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)
		КОГДА ПеремещениеТоваров.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				И НЕ (ВЫРАЗИТЬ(ПеремещениеТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)) = ЗНАЧЕНИЕ(Документ.РасходныйСкладскойОрдер.ПустаяСсылка)
			ТОГДА ВЫРАЗИТЬ(ПеремещениеТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)
		КОГДА ПеремещениеТоваров.ДокументОснование = НЕОПРЕДЕЛЕНО
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
	КОНЕЦ,
	ПеремещениеТоваров.Ссылка
ИЗ
	Документ.ПеремещениеТоваров КАК ПеремещениеТоваров
ГДЕ
	ПеремещениеТоваров.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ВЫБОР
			КОГДА ПеремещениеТоваров.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				ТОГДА ВЫРАЗИТЬ(ПеремещениеТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)
			КОГДА ПеремещениеТоваров.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				ТОГДА ВЫРАЗИТЬ(ПеремещениеТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		КОНЕЦ).* КАК ДокументОснование,
	ПеремещениеТоваров.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА ВводОстатковТоваров.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				И НЕ (ВЫРАЗИТЬ(ВводОстатковТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)) = ЗНАЧЕНИЕ(Документ.ПриходныйСкладскойОрдер.ПустаяСсылка)
			ТОГДА ВЫРАЗИТЬ(ВводОстатковТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)
		ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
	КОНЕЦ,
	ВводОстатковТоваров.Ссылка
ИЗ
	Документ.ВводОстатковТоваров КАК ВводОстатковТоваров
ГДЕ
	ВводОстатковТоваров.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ВЫБОР
			КОГДА ВводОстатковТоваров.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				ТОГДА ВЫРАЗИТЬ(ВводОстатковТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		КОНЕЦ).* КАК ДокументОснование,
	ВводОстатковТоваров.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА ПоступлениеТоваров.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				И НЕ (ВЫРАЗИТЬ(ПоступлениеТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)) = ЗНАЧЕНИЕ(Документ.ПриходныйСкладскойОрдер.ПустаяСсылка)
			ТОГДА ВЫРАЗИТЬ(ПоступлениеТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)
		КОГДА ПоступлениеТоваров.ДокументОснование = НЕОПРЕДЕЛЕНО
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
	КОНЕЦ,
	ПоступлениеТоваров.Ссылка
ИЗ
	Документ.ПоступлениеТоваров КАК ПоступлениеТоваров
ГДЕ
	ПоступлениеТоваров.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ВЫБОР
			КОГДА ПоступлениеТоваров.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				ТОГДА ВЫРАЗИТЬ(ПоступлениеТоваров.ДокументОснование КАК Документ.ПриходныйСкладскойОрдер)
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		КОНЕЦ).* КАК ДокументОснование,
	ПоступлениеТоваров.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА СписаниеТоваров.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				И НЕ (ВЫРАЗИТЬ(СписаниеТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)) = ЗНАЧЕНИЕ(Документ.РасходныйСкладскойОрдер.ПустаяСсылка)
			ТОГДА ВЫРАЗИТЬ(СписаниеТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)
		КОГДА СписаниеТоваров.ДокументОснование = НЕОПРЕДЕЛЕНО
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
	КОНЕЦ,
	СписаниеТоваров.Ссылка
ИЗ
	Документ.СписаниеТоваров КАК СписаниеТоваров
ГДЕ
	СписаниеТоваров.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ВЫБОР
			КОГДА СписаниеТоваров.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				ТОГДА ВЫРАЗИТЬ(СписаниеТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		КОНЕЦ).* КАК ДокументОснование,
	СписаниеТоваров.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА РеализацияТоваров.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				И НЕ (ВЫРАЗИТЬ(РеализацияТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)) = ЗНАЧЕНИЕ(Документ.РасходныйСкладскойОрдер.ПустаяСсылка)
			ТОГДА ВЫРАЗИТЬ(РеализацияТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)
		КОГДА РеализацияТоваров.ДокументОснование = НЕОПРЕДЕЛЕНО
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
	КОНЕЦ,
	РеализацияТоваров.Ссылка
ИЗ
	Документ.РеализацияТоваров КАК РеализацияТоваров
ГДЕ
	РеализацияТоваров.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ВЫБОР
			КОГДА РеализацияТоваров.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				ТОГДА ВЫРАЗИТЬ(РеализацияТоваров.ДокументОснование КАК Документ.РасходныйСкладскойОрдер)
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		КОНЕЦ).* КАК ДокументОснование,
	РеализацияТоваров.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА ИнвентаризацияОрдерногоСклада.ДокументОснование ССЫЛКА Документ.Инвентаризация
			ТОГДА ВЫРАЗИТЬ(ИнвентаризацияОрдерногоСклада.ДокументОснование КАК Документ.Инвентаризация)
		КОГДА ИнвентаризацияОрдерногоСклада.ДокументОснование = НЕОПРЕДЕЛЕНО
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
	КОНЕЦ,
	ИнвентаризацияОрдерногоСклада.Ссылка
ИЗ
	Документ.ИнвентаризацияОрдерногоСклада КАК ИнвентаризацияОрдерногоСклада
ГДЕ
	ИнвентаризацияОрдерногоСклада.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	ИнвентаризацияОрдерногоСклада.Ссылка.* КАК ПодчиненныйДокумент,
	ИнвентаризацияОрдерногоСклада.ДокументОснование.* КАК ДокументОснование}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА ПриходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				ИЛИ ПриходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.ЗаявкаНаХранениеШин
			ТОГДА ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		ИНАЧЕ ПриходныйСкладскойОрдер.ДокументОснование
	КОНЕЦ,
	ПриходныйСкладскойОрдер.Ссылка
ИЗ
	Документ.ПриходныйСкладскойОрдер КАК ПриходныйСкладскойОрдер
ГДЕ
	ПриходныйСкладскойОрдер.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	ПриходныйСкладскойОрдер.Ссылка.* КАК ПодчиненныйДокумент,
	(ВЫБОР
			КОГДА ПриходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.РасходныйСкладскойОрдер
				ТОГДА ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
			ИНАЧЕ ПриходныйСкладскойОрдер.ДокументОснование
		КОНЕЦ).* КАК ДокументОснование}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА РасходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.ПереразмещениеТоваров
				ИЛИ РасходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				ИЛИ РасходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.ЗаявкаНаХранениеШин
			ТОГДА ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
		ИНАЧЕ РасходныйСкладскойОрдер.ДокументОснование
	КОНЕЦ,
	РасходныйСкладскойОрдер.Ссылка
ИЗ
	Документ.РасходныйСкладскойОрдер КАК РасходныйСкладскойОрдер
ГДЕ
	РасходныйСкладскойОрдер.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	РасходныйСкладскойОрдер.Ссылка.* КАК ПодчиненныйДокумент,
	(ВЫБОР
			КОГДА РасходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.ПереразмещениеТоваров
					ИЛИ РасходныйСкладскойОрдер.ДокументОснование ССЫЛКА Документ.ПриходныйСкладскойОрдер
				ТОГДА ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)
			ИНАЧЕ РасходныйСкладскойОрдер.ДокументОснование
		КОНЕЦ).* КАК ДокументОснование}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	НЕОПРЕДЕЛЕНО,
	КорректировкаПоступления.Ссылка
ИЗ
	Документ.КорректировкаПоступления КАК КорректировкаПоступления
ГДЕ
	КорректировкаПоступления.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)).* КАК ДокументОснование,
	КорректировкаПоступления.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	НЕОПРЕДЕЛЕНО,
	КорректировкаРеализации.Ссылка
ИЗ
	Документ.КорректировкаРеализации КАК КорректировкаРеализации
ГДЕ
	КорректировкаРеализации.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
{ГДЕ
	(ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)).* КАК ДокументОснование,
	КорректировкаРеализации.Ссылка.* КАК ПодчиненныйДокумент}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВводВЭксплуатацию.ДокументОснование КАК ДокументОснование,
	ВводВЭксплуатацию.Ссылка КАК ПодчиненныйДокумент
ПОМЕСТИТЬ ПодчиненныеДокументыБезОснования
ИЗ
	Документ.ВводВЭксплуатацию КАК ВводВЭксплуатацию
ГДЕ
	ВводВЭксплуатацию.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И (ВводВЭксплуатацию.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.Ордерный)
			ИЛИ ВводВЭксплуатацию.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.ОрдерныйЯчеистый))
	И ВводВЭксплуатацию.ДокументОснование = НЕОПРЕДЕЛЕНО
{ГДЕ
	ВводВЭксплуатацию.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВозвратОтПокупателя.ДокументОснование,
	ВозвратОтПокупателя.Ссылка
ИЗ
	Документ.ВозвратОтПокупателя КАК ВозвратОтПокупателя
ГДЕ
	ВозвратОтПокупателя.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И (ВозвратОтПокупателя.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.Ордерный)
			ИЛИ ВозвратОтПокупателя.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.ОрдерныйЯчеистый))
	И ВозвратОтПокупателя.ДокументОснование = НЕОПРЕДЕЛЕНО
{ГДЕ
	ВозвратОтПокупателя.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВозвратПоставщику.ДокументОснование,
	ВозвратПоставщику.Ссылка
ИЗ
	Документ.ВозвратПоставщику КАК ВозвратПоставщику
ГДЕ
	ВозвратПоставщику.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И (ВозвратПоставщику.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.Ордерный)
			ИЛИ ВозвратПоставщику.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.ОрдерныйЯчеистый))
	И ВозвратПоставщику.ДокументОснование = НЕОПРЕДЕЛЕНО
{ГДЕ
	ВозвратПоставщику.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	Комплектация.ДокументОснование,
	Комплектация.Ссылка
ИЗ
	Документ.Комплектация КАК Комплектация
ГДЕ
	Комплектация.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И (Комплектация.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.Ордерный)
			ИЛИ Комплектация.СкладКомпании.ВидСклада = ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.ОрдерныйЯчеистый))
	И Комплектация.ДокументОснование = НЕОПРЕДЕЛЕНО
{ГДЕ
	Комплектация.Ссылка.* КАК ПодчиненныйДокумент}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	Разукомплектация.ДокументОснование,
	Разукомплектация.Ссылка
ИЗ
	Документ.Разукомплектация КАК Разукомплектация
ГДЕ
	Разукомплектация.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И Разукомплектация.ДокументОснование = НЕОПРЕДЕЛЕНО
{ГДЕ
	Разукомплектация.Ссылка.* КАК ПодчиненныйДокумент}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	ПодчиненныеДокументы.ДокументОснование КАК ДокументОснование,
	ПодчиненныеДокументы.ПодчиненныйДокумент КАК ПодчиненныйДокумент
ПОМЕСТИТЬ СвязанныеРегистраторы
ИЗ
	ПодчиненныеДокументы КАК ПодчиненныеДокументы
ГДЕ
	ПодчиненныеДокументы.ДокументОснование &lt;&gt; ЗНАЧЕНИЕ(Документ.ИнвентаризацияОрдерногоСклада.ПустаяСсылка)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ПодчиненныеДокументыБезОснования.ДокументОснование,
	ПодчиненныеДокументыБезОснования.ПодчиненныйДокумент
ИЗ
	ПодчиненныеДокументыБезОснования КАК ПодчиненныеДокументыБезОснования
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	СвязанныеРегистраторы.ДокументОснование КАК ДокументОснование,
	СвязанныеРегистраторы.ПодчиненныйДокумент КАК ПодчиненныйДокумент,
	ОстаткиТоваровОрдерныйСклад.Номенклатура КАК Номенклатура,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании КАК СкладКомпании,
	ОстаткиТоваровОрдерныйСклад.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	СУММА(ВЫБОР
			КОГДА ОстаткиТоваровОрдерныйСклад.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ОстаткиТоваровОрдерныйСклад.Количество
		КОНЕЦ) КАК КоличествоОрдерныйПриход,
	СУММА(ВЫБОР
			КОГДА ОстаткиТоваровОрдерныйСклад.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
				ТОГДА -ОстаткиТоваровОрдерныйСклад.Количество
		КОНЕЦ) КАК КоличествоОрдерныйРасход
ПОМЕСТИТЬ втДвиженияОрдрерныйПодчиненные
{ВЫБРАТЬ
	Номенклатура,
	ХарактеристикаНоменклатуры}
ИЗ
	СвязанныеРегистраторы КАК СвязанныеРегистраторы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваровОрдерныйСклад КАК ОстаткиТоваровОрдерныйСклад
		ПО СвязанныеРегистраторы.ПодчиненныйДокумент = ОстаткиТоваровОрдерныйСклад.Регистратор
{ГДЕ
	ОстаткиТоваровОрдерныйСклад.Номенклатура.* КАК Номенклатура,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании.* КАК СкладКомпании,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании.Организация.* КАК Организация,
	ОстаткиТоваровОрдерныйСклад.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры}

СГРУППИРОВАТЬ ПО
	СвязанныеРегистраторы.ДокументОснование,
	СвязанныеРегистраторы.ПодчиненныйДокумент,
	ОстаткиТоваровОрдерныйСклад.Номенклатура,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании,
	ОстаткиТоваровОрдерныйСклад.ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	втДвиженияОрдрерныйПодчиненные.ДокументОснование КАК ДокументОснование,
	втДвиженияОрдрерныйПодчиненные.ПодчиненныйДокумент КАК ПодчиненныйДокумент,
	втДвиженияОрдрерныйПодчиненные.Номенклатура КАК Номенклатура,
	втДвиженияОрдрерныйПодчиненные.СкладКомпании КАК СкладКомпании,
	втДвиженияОрдрерныйПодчиненные.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	ВЫБОР
		КОГДА ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйРасход, 0) &gt; 0
			ТОГДА ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйРасход, 0)
	КОНЕЦ КАК КоличествоОрдерныйПриход,
	ВЫБОР
		КОГДА ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйРасход, 0) &lt; 0
			ТОГДА ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдрерныйПодчиненные.КоличествоОрдерныйРасход, 0)
	КОНЕЦ КАК КоличествоОрдерныйРасход,
	0 КАК КоличествоСкладскойПриход,
	0 КАК КоличествоСкладскойРасход
ПОМЕСТИТЬ ОбъединеннаяТаблицаПодчинений
{ВЫБРАТЬ
	Номенклатура,
	ХарактеристикаНоменклатуры}
ИЗ
	втДвиженияОрдрерныйПодчиненные КАК втДвиженияОрдрерныйПодчиненные
{ГДЕ
	втДвиженияОрдрерныйПодчиненные.Номенклатура.* КАК Номенклатура,
	втДвиженияОрдрерныйПодчиненные.СкладКомпании.* КАК СкладКомпании,
	втДвиженияОрдрерныйПодчиненные.СкладКомпании.Организация.* КАК Организация,
	втДвиженияОрдрерныйПодчиненные.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	СвязанныеРегистраторы.ДокументОснование,
	СвязанныеРегистраторы.ПодчиненныйДокумент,
	ОстаткиТоваровКомпании.Номенклатура,
	ОстаткиТоваровКомпании.СкладКомпании,
	ОстаткиТоваровКомпании.ХарактеристикаНоменклатуры,
	0,
	0,
	СУММА(ВЫБОР
			КОГДА ОстаткиТоваровКомпании.Регистратор ССЫЛКА Документ.КорректировкаПоступления
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &gt; 0
							ТОГДА ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			КОГДА ОстаткиТоваровКомпании.Регистратор ССЫЛКА Документ.КорректировкаРеализации
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &lt; 0
							ТОГДА - ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			ИНАЧЕ ВЫБОР
					КОГДА ОстаткиТоваровКомпании.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
						ТОГДА ОстаткиТоваровКомпании.Количество
				КОНЕЦ
		КОНЕЦ),
	СУММА(ВЫБОР
			КОГДА ОстаткиТоваровКомпании.Регистратор ССЫЛКА Документ.КорректировкаПоступления
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &lt; 0
							ТОГДА ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			КОГДА ОстаткиТоваровКомпании.Регистратор ССЫЛКА Документ.КорректировкаРеализации
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &gt; 0
							ТОГДА - ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			ИНАЧЕ ВЫБОР
					КОГДА ОстаткиТоваровКомпании.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
						ТОГДА -ОстаткиТоваровКомпании.Количество
				КОНЕЦ
		КОНЕЦ)
ИЗ
	СвязанныеРегистраторы КАК СвязанныеРегистраторы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваровКомпании КАК ОстаткиТоваровКомпании
		ПО СвязанныеРегистраторы.ПодчиненныйДокумент = ОстаткиТоваровКомпании.Регистратор
{ГДЕ
	ОстаткиТоваровКомпании.Номенклатура.* КАК Номенклатура,
	ОстаткиТоваровКомпании.СкладКомпании.* КАК СкладКомпании,
	ОстаткиТоваровКомпании.СкладКомпании.Организация.* КАК Организация,
	ОстаткиТоваровКомпании.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры}

СГРУППИРОВАТЬ ПО
	СвязанныеРегистраторы.ДокументОснование,
	СвязанныеРегистраторы.ПодчиненныйДокумент,
	ОстаткиТоваровКомпании.Номенклатура,
	ОстаткиТоваровКомпании.СкладКомпании,
	ОстаткиТоваровКомпании.ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВЫБОР
		КОГДА ОбъединеннаяТаблица.ДокументОснование.Ссылка ЕСТЬ NULL
			ТОГДА ОбъединеннаяТаблица.ПодчиненныйДокумент
		ИНАЧЕ ОбъединеннаяТаблица.ДокументОснование
	КОНЕЦ КАК ДокументОснование,
	ВЫБОР
		КОГДА ОбъединеннаяТаблица.ДокументОснование.Ссылка ЕСТЬ NULL
			ТОГДА NULL
		ИНАЧЕ ОбъединеннаяТаблица.ПодчиненныйДокумент
	КОНЕЦ КАК ПодчиненныйДокумент,
	ОбъединеннаяТаблица.Номенклатура КАК Номенклатура,
	ОбъединеннаяТаблица.СкладКомпании КАК СкладКомпании,
	ОбъединеннаяТаблица.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	СУММА(ОбъединеннаяТаблица.КоличествоОрдерныйПриход) КАК КоличествоОрдерныйПриход,
	СУММА(ОбъединеннаяТаблица.КоличествоОрдерныйРасход) КАК КоличествоОрдерныйРасход,
	СУММА(ОбъединеннаяТаблица.КоличествоСкладскойПриход) КАК КоличествоСкладскойПриход,
	СУММА(ОбъединеннаяТаблица.КоличествоСкладскойРасход) КАК КоличествоСкладскойРасход
ПОМЕСТИТЬ ДвиженияПодчинений
ИЗ
	ОбъединеннаяТаблицаПодчинений КАК ОбъединеннаяТаблица

СГРУППИРОВАТЬ ПО
	ВЫБОР
		КОГДА ОбъединеннаяТаблица.ДокументОснование.Ссылка ЕСТЬ NULL
			ТОГДА ОбъединеннаяТаблица.ПодчиненныйДокумент
		ИНАЧЕ ОбъединеннаяТаблица.ДокументОснование
	КОНЕЦ,
	ОбъединеннаяТаблица.Номенклатура,
	ОбъединеннаяТаблица.СкладКомпании,
	ОбъединеннаяТаблица.ХарактеристикаНоменклатуры,
	ВЫБОР
		КОГДА ОбъединеннаяТаблица.ДокументОснование.Ссылка ЕСТЬ NULL
			ТОГДА NULL
		ИНАЧЕ ОбъединеннаяТаблица.ПодчиненныйДокумент
	КОНЕЦ

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	СкладКомпании,
	ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ СвязанныеРегистраторы
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ДвиженияПодчинений.ДокументОснование КАК ДокументОснование,
	ДвиженияПодчинений.Номенклатура КАК Номенклатура,
	ДвиженияПодчинений.СкладКомпании КАК СкладКомпании,
	ДвиженияПодчинений.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	КОЛИЧЕСТВО(ВЫБОР
			КОГДА ДвиженияПодчинений.ПодчиненныйДокумент ЕСТЬ NULL
				ТОГДА 1
			ИНАЧЕ ДвиженияПодчинений.ПодчиненныйДокумент
		КОНЕЦ) КАК Счетчик,
	СУММА(ДвиженияПодчинений.КоличествоОрдерныйПриход) КАК КоличествоОрдерныйПриход,
	СУММА(ДвиженияПодчинений.КоличествоОрдерныйРасход) КАК КоличествоОрдерныйРасход,
	СУММА(ДвиженияПодчинений.КоличествоСкладскойПриход) КАК КоличествоСкладскойПриход,
	СУММА(ДвиженияПодчинений.КоличествоСкладскойРасход) КАК КоличествоСкладскойРасход,
	МИНИМУМ(ВЫБОР
			КОГДА ДвиженияПодчинений.ПодчиненныйДокумент ЕСТЬ NULL
				ТОГДА ИСТИНА
			ИНАЧЕ ЛОЖЬ
		КОНЕЦ) КАК ПодчиненныйОтсутствует
ПОМЕСТИТЬ СчетчикиПодчиненныхДокументов
ИЗ
	ДвиженияПодчинений КАК ДвиженияПодчинений

СГРУППИРОВАТЬ ПО
	ДвиженияПодчинений.ДокументОснование,
	ДвиженияПодчинений.Номенклатура,
	ДвиженияПодчинений.СкладКомпании,
	ДвиженияПодчинений.ХарактеристикаНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	СкладКомпании,
	ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	СчетчикиПодчиненныхДокументов.ДокументОснование КАК ДокументОснование
ПОМЕСТИТЬ ТаблицаОснований
ИЗ
	СчетчикиПодчиненныхДокументов КАК СчетчикиПодчиненныхДокументов
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаОснований.ДокументОснование КАК ДокументОснование,
	ОстаткиТоваровОрдерныйСклад.Номенклатура КАК Номенклатура,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании КАК СкладКомпании,
	ОстаткиТоваровОрдерныйСклад.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	СУММА(ВЫБОР
			КОГДА ОстаткиТоваровОрдерныйСклад.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ОстаткиТоваровОрдерныйСклад.Количество
		КОНЕЦ) КАК КоличествоОрдерныйПриход,
	СУММА(ВЫБОР
			КОГДА ОстаткиТоваровОрдерныйСклад.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
				ТОГДА -ОстаткиТоваровОрдерныйСклад.Количество
		КОНЕЦ) КАК КоличествоОрдерныйРасход
ПОМЕСТИТЬ втДвиженияОрдерныйОснования
{ВЫБРАТЬ
	Номенклатура,
	ХарактеристикаНоменклатуры}
ИЗ
	ТаблицаОснований КАК ТаблицаОснований
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваровОрдерныйСклад КАК ОстаткиТоваровОрдерныйСклад
		ПО ТаблицаОснований.ДокументОснование = ОстаткиТоваровОрдерныйСклад.Регистратор
{ГДЕ
	ОстаткиТоваровОрдерныйСклад.Номенклатура.* КАК Номенклатура,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании.* КАК СкладКомпании,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании.Организация.* КАК Организация,
	ОстаткиТоваровОрдерныйСклад.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры}

СГРУППИРОВАТЬ ПО
	ТаблицаОснований.ДокументОснование,
	ОстаткиТоваровОрдерныйСклад.Номенклатура,
	ОстаткиТоваровОрдерныйСклад.СкладКомпании,
	ОстаткиТоваровОрдерныйСклад.ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	втДвиженияОрдерныйОснования.ДокументОснование КАК ДокументОснование,
	втДвиженияОрдерныйОснования.Номенклатура КАК Номенклатура,
	втДвиженияОрдерныйОснования.СкладКомпании КАК СкладКомпании,
	втДвиженияОрдерныйОснования.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	ВЫБОР
		КОГДА ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйРасход, 0) &gt; 0
			ТОГДА ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйРасход, 0)
	КОНЕЦ КАК КоличествоОрдерныйПриход,
	ВЫБОР
		КОГДА ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйРасход, 0) &lt; 0
			ТОГДА ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйПриход, 0) + ЕСТЬNULL(втДвиженияОрдерныйОснования.КоличествоОрдерныйРасход, 0)
	КОНЕЦ КАК КоличествоОрдерныйРасход,
	0 КАК КоличествоСкладскойПриход,
	0 КАК КоличествоСкладскойРасход
ПОМЕСТИТЬ ОбъединеннаяТаблицаОснований
{ВЫБРАТЬ
	Номенклатура,
	ХарактеристикаНоменклатуры}
ИЗ
	втДвиженияОрдерныйОснования КАК втДвиженияОрдерныйОснования
{ГДЕ
	втДвиженияОрдерныйОснования.Номенклатура.* КАК Номенклатура,
	втДвиженияОрдерныйОснования.СкладКомпании.* КАК СкладКомпании,
	втДвиженияОрдерныйОснования.СкладКомпании.Организация.* КАК Организация,
	втДвиженияОрдерныйОснования.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТаблицаОснований.ДокументОснование,
	ОстаткиТоваровКомпании.Номенклатура,
	ОстаткиТоваровКомпании.СкладКомпании,
	ОстаткиТоваровКомпании.ХарактеристикаНоменклатуры,
	0,
	0,
	СУММА(ВЫБОР
			КОГДА ТаблицаОснований.ДокументОснование ССЫЛКА Документ.КорректировкаПоступления
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &gt; 0
							ТОГДА ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			КОГДА ТаблицаОснований.ДокументОснование ССЫЛКА Документ.КорректировкаРеализации
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &lt; 0
							ТОГДА -ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			ИНАЧЕ ВЫБОР
					КОГДА ОстаткиТоваровКомпании.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
						ТОГДА ОстаткиТоваровКомпании.Количество
				КОНЕЦ
		КОНЕЦ),
	СУММА(ВЫБОР
			КОГДА ТаблицаОснований.ДокументОснование ССЫЛКА Документ.КорректировкаПоступления
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &lt; 0
							ТОГДА ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			КОГДА ТаблицаОснований.ДокументОснование ССЫЛКА Документ.КорректировкаРеализации
				ТОГДА ВЫБОР
						КОГДА ОстаткиТоваровКомпании.Количество &gt; 0
							ТОГДА - ОстаткиТоваровКомпании.Количество
						ИНАЧЕ 0
					КОНЕЦ
			ИНАЧЕ ВЫБОР
					КОГДА ОстаткиТоваровКомпании.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
						ТОГДА -ОстаткиТоваровКомпании.Количество
				КОНЕЦ
		КОНЕЦ)
ИЗ
	ТаблицаОснований КАК ТаблицаОснований
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваровКомпании КАК ОстаткиТоваровКомпании
		ПО ТаблицаОснований.ДокументОснование = ОстаткиТоваровКомпании.Регистратор
{ГДЕ
	ОстаткиТоваровКомпании.Номенклатура.* КАК Номенклатура,
	ОстаткиТоваровКомпании.СкладКомпании.* КАК СкладКомпании,
	ОстаткиТоваровКомпании.СкладКомпании.Организация.* КАК Организация,
	ОстаткиТоваровКомпании.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры}

СГРУППИРОВАТЬ ПО
	ТаблицаОснований.ДокументОснование,
	ОстаткиТоваровКомпании.Номенклатура,
	ОстаткиТоваровКомпании.СкладКомпании,
	ОстаткиТоваровКомпании.ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ОбъединеннаяТаблица.ДокументОснование КАК ДокументОснование,
	ОбъединеннаяТаблица.Номенклатура КАК Номенклатура,
	ОбъединеннаяТаблица.СкладКомпании КАК СкладКомпании,
	ОбъединеннаяТаблица.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	ОбъединеннаяТаблица.КоличествоОрдерныйПриход КАК КоличествоОрдерныйПриход,
	ОбъединеннаяТаблица.КоличествоОрдерныйРасход КАК КоличествоОрдерныйРасход,
	ОбъединеннаяТаблица.КоличествоСкладскойПриход КАК КоличествоСкладскойПриход,
	ОбъединеннаяТаблица.КоличествоСкладскойРасход КАК КоличествоСкладскойРасход
ПОМЕСТИТЬ ДвиженияОснований
ИЗ
	ОбъединеннаяТаблицаОснований КАК ОбъединеннаяТаблица

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	СкладКомпании,
	ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ ТаблицаОснований
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ДвиженияПодчинений.ДокументОснование КАК ДокументОснование,
	ЕСТЬNULL(ДвиженияПодчинений.ПодчиненныйДокумент, "ПодчиненныйОтсутствует") КАК ПодчиненныйДокумент,
	ДвиженияПодчинений.Номенклатура КАК Номенклатура,
	ДвиженияПодчинений.СкладКомпании КАК СкладКомпании,
	ДвиженияПодчинений.СкладКомпании.Организация КАК Организация,
	ДвиженияПодчинений.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	СУММА(ЕСТЬNULL(ДвиженияПодчинений.КоличествоОрдерныйПриход, 0)) КАК КоличествоОрдерныйПриход,
	СУММА(ЕСТЬNULL(ДвиженияПодчинений.КоличествоОрдерныйРасход, 0)) КАК КоличествоОрдерныйРасход,
	СУММА(ЕСТЬNULL(ДвиженияПодчинений.КоличествоСкладскойПриход, 0)) КАК КоличествоСкладскойПриход,
	СУММА(ЕСТЬNULL(ДвиженияПодчинений.КоличествоСкладскойРасход, 0)) КАК КоличествоСкладскойРасход,
	NULL КАК КоличествоОрдерныйОснованиеПриход,
	NULL КАК КоличествоОрдерныйОснованиеРасход,
	NULL КАК КоличествоСкладскойОснованиеПриход,
	NULL КАК КоличествоСкладскойОснованиеРасход,
	ДвиженияОснований.КоличествоОрдерныйПриход КАК СчетчикиПодчиненныхКоличествоОрдерныйПриход,
	ДвиженияОснований.КоличествоСкладскойПриход КАК СчетчикиПодчиненныхКоличествоСкладскойПриход
ПОМЕСТИТЬ ВТ_ОбъединенныеДвижения
{ВЫБРАТЬ
	ДокументОснование.* КАК ДокументОснование,
	ПодчиненныйДокумент.* КАК ПодчиненныйДокумент,
	Номенклатура.* КАК Номенклатура,
	СкладКомпании.* КАК СкладКомпании,
	Организация.* КАК Организация,
	ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры,
	КоличествоОрдерныйПриход КАК КоличествоОрдерныйПриход,
	КоличествоОрдерныйРасход КАК КоличествоОрдерныйРасход,
	КоличествоСкладскойПриход КАК КоличествоСкладскойПриход,
	КоличествоСкладскойРасход КАК КоличествоСкладскойРасход}
ИЗ
	ДвиженияПодчинений КАК ДвиженияПодчинений
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетчикиПодчиненныхДокументов КАК СчетчикиПодчиненныхДокументов
		ПО ДвиженияПодчинений.ДокументОснование = СчетчикиПодчиненныхДокументов.ДокументОснование
			И ДвиженияПодчинений.Номенклатура = СчетчикиПодчиненныхДокументов.Номенклатура
			И ДвиженияПодчинений.ХарактеристикаНоменклатуры = СчетчикиПодчиненныхДокументов.ХарактеристикаНоменклатуры
			И ДвиженияПодчинений.СкладКомпании = СчетчикиПодчиненныхДокументов.СкладКомпании
		ЛЕВОЕ СОЕДИНЕНИЕ ДвиженияОснований КАК ДвиженияОснований
		ПО ДвиженияПодчинений.ДокументОснование = ДвиженияОснований.ДокументОснование
			И ДвиженияПодчинений.Номенклатура = ДвиженияОснований.Номенклатура
			И ДвиженияПодчинений.ХарактеристикаНоменклатуры = ДвиженияОснований.ХарактеристикаНоменклатуры
			И ДвиженияПодчинений.СкладКомпании = ДвиженияОснований.СкладКомпании
ГДЕ
	СчетчикиПодчиненныхДокументов.Счетчик &lt;&gt; 0
	И НЕ ДвиженияПодчинений.ПодчиненныйДокумент ЕСТЬ NULL

СГРУППИРОВАТЬ ПО
	ДвиженияПодчинений.ДокументОснование,
	ДвиженияПодчинений.Номенклатура,
	ДвиженияПодчинений.СкладКомпании,
	ДвиженияПодчинений.ХарактеристикаНоменклатуры,
	ДвиженияПодчинений.СкладКомпании.Организация,
	ДвиженияОснований.КоличествоОрдерныйПриход,
	ДвиженияОснований.КоличествоСкладскойПриход,
	ЕСТЬNULL(ДвиженияПодчинений.ПодчиненныйДокумент, "ПодчиненныйОтсутствует")

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ДвиженияОснований.ДокументОснование,
	NULL,
	ДвиженияОснований.Номенклатура,
	ДвиженияОснований.СкладКомпании,
	ДвиженияОснований.СкладКомпании.Организация,
	ДвиженияОснований.ХарактеристикаНоменклатуры,
	ЕСТЬNULL(ДвиженияОснований.КоличествоОрдерныйПриход, 0),
	ЕСТЬNULL(ДвиженияОснований.КоличествоОрдерныйРасход, 0),
	ЕСТЬNULL(ДвиженияОснований.КоличествоСкладскойПриход, 0),
	ЕСТЬNULL(ДвиженияОснований.КоличествоСкладскойРасход, 0),
	0,
	0,
	0,
	0,
	СчетчикиПодчиненныхДокументов.КоличествоОрдерныйПриход,
	СчетчикиПодчиненныхДокументов.КоличествоСкладскойПриход
ИЗ
	ДвиженияОснований КАК ДвиженияОснований
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетчикиПодчиненныхДокументов КАК СчетчикиПодчиненныхДокументов
		ПО ДвиженияОснований.ДокументОснование = СчетчикиПодчиненныхДокументов.ДокументОснование
			И ДвиженияОснований.Номенклатура = СчетчикиПодчиненныхДокументов.Номенклатура
			И ДвиженияОснований.ХарактеристикаНоменклатуры = СчетчикиПодчиненныхДокументов.ХарактеристикаНоменклатуры
			И ДвиженияОснований.СкладКомпании = СчетчикиПодчиненныхДокументов.СкладКомпании
ГДЕ
	СчетчикиПодчиненныхДокументов.Счетчик &lt;&gt; 0
	И НЕ СчетчикиПодчиненныхДокументов.ПодчиненныйОтсутствует

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ДвиженияОснований.ДокументОснование,
	"ПодчиненныйДокумент",
	ДвиженияОснований.Номенклатура,
	ДвиженияОснований.СкладКомпании,
	ДвиженияОснований.СкладКомпании.Организация,
	ДвиженияОснований.ХарактеристикаНоменклатуры,
	ЕСТЬNULL(ДвиженияОснований.КоличествоОрдерныйПриход, 0),
	ЕСТЬNULL(ДвиженияОснований.КоличествоОрдерныйРасход, 0),
	ЕСТЬNULL(ДвиженияОснований.КоличествоСкладскойПриход, 0),
	ЕСТЬNULL(ДвиженияОснований.КоличествоСкладскойРасход, 0),
	0,
	0,
	0,
	0,
	СчетчикиПодчиненныхДокументов.КоличествоОрдерныйПриход,
	СчетчикиПодчиненныхДокументов.КоличествоСкладскойПриход
ИЗ
	ДвиженияОснований КАК ДвиженияОснований
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетчикиПодчиненныхДокументов КАК СчетчикиПодчиненныхДокументов
		ПО ДвиженияОснований.ДокументОснование = СчетчикиПодчиненныхДокументов.ДокументОснование
			И ДвиженияОснований.Номенклатура = СчетчикиПодчиненныхДокументов.Номенклатура
			И ДвиженияОснований.ХарактеристикаНоменклатуры = СчетчикиПодчиненныхДокументов.ХарактеристикаНоменклатуры
			И ДвиженияОснований.СкладКомпании = СчетчикиПодчиненныхДокументов.СкладКомпании
ГДЕ
	СчетчикиПодчиненныхДокументов.Счетчик = 1
	И СчетчикиПодчиненныхДокументов.ПодчиненныйОтсутствует
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВТ_ОбъединенныеДвижения.ДокументОснование КАК ДокументОснование,
	ВТ_ОбъединенныеДвижения.Номенклатура КАК Номенклатура,
	ВТ_ОбъединенныеДвижения.СкладКомпании КАК СкладКомпании,
	ВТ_ОбъединенныеДвижения.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	СУММА(ВТ_ОбъединенныеДвижения.КоличествоОрдерныйРасход - ВТ_ОбъединенныеДвижения.КоличествоСкладскойРасход) КАК РазницаРасходПоОснованию,
	СУММА(ВТ_ОбъединенныеДвижения.КоличествоОрдерныйПриход - ВТ_ОбъединенныеДвижения.КоличествоСкладскойПриход) КАК РазницаПриходПоОснованию
ПОМЕСТИТЬ ВТ_ОбщиеПоказателиПоОснованию
ИЗ
	ВТ_ОбъединенныеДвижения КАК ВТ_ОбъединенныеДвижения

СГРУППИРОВАТЬ ПО
	ВТ_ОбъединенныеДвижения.ДокументОснование,
	ВТ_ОбъединенныеДвижения.Номенклатура,
	ВТ_ОбъединенныеДвижения.СкладКомпании,
	ВТ_ОбъединенныеДвижения.ХарактеристикаНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_ОбъединенныеДвижения.ДокументОснование КАК ДокументОснование,
	ВТ_ОбъединенныеДвижения.ПодчиненныйДокумент КАК ПодчиненныйДокумент,
	ВТ_ОбъединенныеДвижения.Номенклатура КАК Номенклатура,
	ВТ_ОбъединенныеДвижения.СкладКомпании КАК СкладКомпании,
	ВТ_ОбъединенныеДвижения.Организация КАК Организация,
	ВТ_ОбъединенныеДвижения.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	ВТ_ОбъединенныеДвижения.КоличествоОрдерныйПриход КАК КоличествоОрдерныйПриход,
	ВТ_ОбъединенныеДвижения.КоличествоОрдерныйРасход КАК КоличествоОрдерныйРасход,
	ВТ_ОбъединенныеДвижения.КоличествоСкладскойПриход КАК КоличествоСкладскойПриход,
	ВТ_ОбъединенныеДвижения.КоличествоСкладскойРасход КАК КоличествоСкладскойРасход,
	ВТ_ОбъединенныеДвижения.КоличествоОрдерныйРасход - ВТ_ОбъединенныеДвижения.КоличествоСкладскойРасход КАК КоличествоРазницаРасход,
	ВТ_ОбъединенныеДвижения.КоличествоОрдерныйПриход - ВТ_ОбъединенныеДвижения.КоличествоСкладскойПриход КАК КоличествоРазницаПриход,
	ВТ_ОбъединенныеДвижения.КоличествоОрдерныйОснованиеПриход КАК КоличествоОрдерныйОснованиеПриход,
	ВТ_ОбъединенныеДвижения.КоличествоОрдерныйОснованиеРасход КАК КоличествоОрдерныйОснованиеРасход,
	ВТ_ОбъединенныеДвижения.КоличествоСкладскойОснованиеПриход КАК КоличествоСкладскойОснованиеПриход,
	ВТ_ОбъединенныеДвижения.КоличествоСкладскойОснованиеРасход КАК КоличествоСкладскойОснованиеРасход,
	ВТ_ОбъединенныеДвижения.СчетчикиПодчиненныхКоличествоОрдерныйПриход КАК СчетчикиПодчиненныхКоличествоОрдерныйПриход,
	ВТ_ОбъединенныеДвижения.СчетчикиПодчиненныхКоличествоСкладскойПриход КАК СчетчикиПодчиненныхКоличествоСкладскойПриход
{ВЫБРАТЬ
	ДокументОснование.*,
	ПодчиненныйДокумент.*,
	Номенклатура.*,
	СкладКомпании.*,
	Организация.*,
	ХарактеристикаНоменклатуры.*,
	КоличествоОрдерныйПриход,
	КоличествоОрдерныйРасход,
	КоличествоСкладскойПриход,
	КоличествоСкладскойРасход,
	КоличествоРазницаРасход,
	КоличествоРазницаПриход}
ИЗ
	ВТ_ОбъединенныеДвижения КАК ВТ_ОбъединенныеДвижения
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВТ_ОбщиеПоказателиПоОснованию КАК ВТ_ОбщиеПоказателиПоОснованию
		ПО ВТ_ОбъединенныеДвижения.ДокументОснование = ВТ_ОбщиеПоказателиПоОснованию.ДокументОснование
			И ВТ_ОбъединенныеДвижения.Номенклатура = ВТ_ОбщиеПоказателиПоОснованию.Номенклатура
			И ВТ_ОбъединенныеДвижения.СкладКомпании = ВТ_ОбщиеПоказателиПоОснованию.СкладКомпании
			И ВТ_ОбъединенныеДвижения.ХарактеристикаНоменклатуры = ВТ_ОбщиеПоказателиПоОснованию.ХарактеристикаНоменклатуры
ГДЕ
	(&amp;ВыводитьВсе
			ИЛИ ВТ_ОбщиеПоказателиПоОснованию.РазницаПриходПоОснованию &lt;&gt; 0
			ИЛИ ВТ_ОбщиеПоказателиПоОснованию.РазницаРасходПоОснованию &lt;&gt; 0)</query>
		<autoFillFields>false</autoFillFields>
	</dataSet>
	<calculatedField>
		<dataPath>ПодчиненныйДокументРасшифровка</dataPath>
		<expression/>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Подчиненный документ расшифровка</v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<totalField>
		<dataPath>КоличествоОрдерныйПриход</dataPath>
		<expression>Сумма(КоличествоОрдерныйПриход)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоОрдерныйРасход</dataPath>
		<expression>Сумма(КоличествоОрдерныйРасход)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоСкладскойПриход</dataPath>
		<expression>Сумма(КоличествоСкладскойПриход)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоСкладскойРасход</dataPath>
		<expression>Сумма(КоличествоСкладскойРасход)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоРазницаПриход</dataPath>
		<expression>Сумма(КоличествоРазницаПриход)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоРазницаРасход</dataPath>
		<expression>Сумма(КоличествоРазницаРасход)</expression>
	</totalField>
	<totalField>
		<dataPath>ПодчиненныйДокумент</dataPath>
		<expression>ТаблицаЗначений(РАЗЛИЧНЫЕ  ПодчиненныйДокумент)</expression>
		<group>ДокументОснование</group>
	</totalField>
	<totalField>
		<dataPath>ПодчиненныйДокументРасшифровка</dataPath>
		<expression>ТаблицаЗначений(РАЗЛИЧНЫЕ  ПодчиненныйДокумент)</expression>
		<group>ДокументОснование</group>
	</totalField>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>ВыводитьВсе</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Выводить нулевую разницу</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>false</useRestriction>
	</parameter>
	<template>
		<name>Макет1</name>
		<template xmlns:dcsat="http://v8.1c.ru/8.1/data-composition-system/area-template" xsi:type="dcsat:AreaTemplate">
			<dcsat:item xsi:type="dcsat:TableRow">
				<dcsat:tableCell>
					<dcsat:item xsi:type="dcsat:Field">
						<dcsat:value xsi:type="dcscor:Parameter">ДокументОснование</dcsat:value>
					</dcsat:item>
					<dcsat:appearance>
						<dcscor:item>
							<dcscor:parameter>Расшифровка</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Parameter">ДокументОснование.Ссылка</dcscor:value>
						</dcscor:item>
					</dcsat:appearance>
				</dcsat:tableCell>
			</dcsat:item>
			<dcsat:item xsi:type="dcsat:TableRow">
				<dcsat:tableCell>
					<dcsat:item xsi:type="dcsat:Field">
						<dcsat:value xsi:type="dcscor:Parameter">ПодчиненныйДокумент</dcsat:value>
					</dcsat:item>
					<dcsat:appearance>
						<dcscor:item>
							<dcscor:parameter>Расшифровка</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:Parameter">ПодчиненныйДокументРасшифровка</dcscor:value>
						</dcscor:item>
					</dcsat:appearance>
				</dcsat:tableCell>
			</dcsat:item>
		</template>
		<parameter xmlns:dcsat="http://v8.1c.ru/8.1/data-composition-system/area-template" xsi:type="dcsat:ExpressionAreaTemplateParameter">
			<dcsat:name>ПодчиненныйДокумент</dcsat:name>
			<dcsat:expression>Представление(ПодчиненныйДокумент)</dcsat:expression>
		</parameter>
		<parameter xmlns:dcsat="http://v8.1c.ru/8.1/data-composition-system/area-template" xsi:type="dcsat:ExpressionAreaTemplateParameter">
			<dcsat:name>ДокументОснование</dcsat:name>
			<dcsat:expression>Представление(ДокументОснование)</dcsat:expression>
		</parameter>
		<parameter xmlns:dcsat="http://v8.1c.ru/8.1/data-composition-system/area-template" xsi:type="dcsat:DetailsAreaTemplateParameter">
			<dcsat:name>ДокументОснование.Ссылка</dcsat:name>
		</parameter>
		<parameter xmlns:dcsat="http://v8.1c.ru/8.1/data-composition-system/area-template" xsi:type="dcsat:DetailsAreaTemplateParameter">
			<dcsat:name>ПодчиненныйДокументРасшифровка</dcsat:name>
			<dcsat:fieldExpression>
				<dcsat:field>ПодчиненныйДокументРасшифровка</dcsat:field>
				<dcsat:expression>ПодчиненныйДокументРасшифровка</dcsat:expression>
			</dcsat:fieldExpression>
		</parameter>
	</template>
	<fieldTemplate>
		<field>ДокументОснование</field>
		<template>Макет1</template>
	</fieldTemplate>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Сверка товарного и ордерного учета</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Приход</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоОрдерныйПриход</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоСкладскойПриход</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоРазницаПриход</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Расход</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоОрдерныйРасход</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоСкладскойРасход</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоРазницаРасход</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СкладКомпании</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ДокументОснование</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ПодчиненныйДокумент</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Организация</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ХарактеристикаНоменклатуры</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Подразделение</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>НачалоПериода</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
					<dcsset:userSettingID>a8a99581-df61-429d-bb80-b52500e35cd6</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>КонецПериода</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
					<dcsset:userSettingID>35f1f94a-ad05-4023-a8dc-1f0b81b79a94</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьВсе</dcscor:parameter>
					<dcscor:value xsi:type="xs:boolean">true</dcscor:value>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>ДокументОснование</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>ПодчиненныйДокумент</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>Номенклатура</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>Организация</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>Подразделение</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>ХарактеристикаНоменклатуры</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>РасположениеИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">Begin</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>РасположениеРесурсов</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionResourcesPlacement">Vertically</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ГоризонтальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>СкладКомпании</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto">
						<dcsset:use>false</dcsset:use>
					</dcsset:item>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>ДокументОснование</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto">
							<dcsset:use>false</dcsset:use>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Номенклатура</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:outputParameters>
							<dcscor:item xsi:type="dcsset:SettingsParameterValue">
								<dcscor:use>false</dcscor:use>
								<dcscor:parameter>РасположениеИтогов</dcscor:parameter>
								<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">Begin</dcscor:value>
							</dcscor:item>
						</dcsset:outputParameters>
						<dcsset:item xsi:type="dcsset:StructureItemGroup">
							<dcsset:groupItems>
								<dcsset:item xsi:type="dcsset:GroupItemField">
									<dcsset:field>ХарактеристикаНоменклатуры</dcsset:field>
									<dcsset:groupType>Items</dcsset:groupType>
									<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
									<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
									<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
								</dcsset:item>
							</dcsset:groupItems>
							<dcsset:order>
								<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
							</dcsset:order>
							<dcsset:selection>
								<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
							</dcsset:selection>
						</dcsset:item>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>