#Область ПрограммныйИнтерфейс

// Получает данные выписки банка в текстовом формате  
//
// Параметры: 
//  СообщениеОбмена - ДокументСсылка.СообщениеОбменСБанками, Массив - ссылка или массив ссылок на выписки банка
//
// Возвращаемое значение:
//  Структура - массив счетов, ссылка на хранилище 
//
Функция ПолучитьДанныеВыпискиБанкаТекстовыйФормат(СообщениеОбмена) Экспорт
	
	Результат = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(СообщениеОбмена, "Организация, НастройкаОбмена, ВидЭД");
	Результат.Вставить("СсылкаНаХранилище", Неопределено);
	Результат.Вставить("МассивСчетов", Неопределено);
	
	Если НЕ Результат.ВидЭД = Перечисления.ВидыЭДОбменСБанками.ВыпискаБанка Тогда
		Возврат Результат;
	КонецЕсли;
	
	ОбменСБанками.ПолучитьДанныеВыпискиБанкаТекстовыйФормат(
		СообщениеОбмена,
		Результат.СсылкаНаХранилище,
		Результат.МассивСчетов);
	
	Возврат Результат;
	
КонецФункции

// Получает данные выписки банка в текстовом формате 
// 
// Параметры: 
//  МассивВыписок - Массив - содержит ссылку или массив ссылок на выписки банка
//                           
// Возвращаемое значение:
//  СсылкаНаХранилище - Строка - содержит ссылку на хранилище тестовых данных
//  
Функция ДанныеВыпискиБанкаВТекстовомФормате(Знач МассивВыписок) Экспорт
	
	МассивСчетов      = Новый Массив;
	СсылкаНаХранилище = "";
	ОбменСБанками.ПолучитьДанныеВыпискиБанкаТекстовыйФормат(
		МассивВыписок,
		СсылкаНаХранилище,
		МассивСчетов);
	
	Возврат СсылкаНаХранилище;
	
КонецФункции

#КонецОбласти
